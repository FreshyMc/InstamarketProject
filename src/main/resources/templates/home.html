<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" id="top">

<head th:replace="common/fragments :: head"></head>

<body class="container-fluid p-0 m-0 content-wrapper">
    <nav th:replace="common/fragments :: primary-navigation"></nav>
    <main>
        <div class="search-form-top py-2 d-flex justify-content-center align-items-center">
            <form id="searchForm">
                <input type="hidden" th:name="${_csrf.headerName}" th:value="${_csrf.token}" id="searchCsrf">
                <div class="input-group">
                    <input type="text" name="search" class="form-control expanded-input" placeholder="Search">
                    <select name="category" class="form-select">
                        <option th:each="c : ${categories}" th:value="${c.name()}" th:text="${c.getDisplayName()}">Option</option>
                    </select>
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-filter"></i></button>
                    <ul class="dropdown-menu p-2">
                        <li class="mb-2">
                            <div class="input-group">
                                <input type="number" class="form-control" name="minPrice" min="0" step="0.01" placeholder="Min price">
                                <input type="number" class="form-control" name="maxPrice" min="0" step="0.01" placeholder="Max price">
                            </div>
                        </li>
                        <li class="mb-2">
                            <div class="input-group">
                                <div class="input-group-text">
                                    <input type="checkbox" class="form-check-input m-0" name="freeShipping" id="freeShipping" value="true">
                                </div>
                                <label class="input-group-text flex-grow-1" for="freeShipping">Free shipping</label>
                            </div>
                        </li>
                        <li>
                            <div class="input-group">
                                <div class="input-group-text">
                                    <input type="checkbox" class="form-check-input m-0" name="favouriteOffer" id="isFavourite" value="true">
                                </div>
                                <label class="input-group-text flex-grow-1" for="isFavourite">Favourite offer</label>
                            </div>
                        </li>
                    </ul>
                    <button type="submit" class="search-top-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </form>
        </div>
        <!-- Adverts main section -->
        <div class="row g-0 p-0 m-0" id="offersWrapper">
        </div>
        <div id="bottom" style="visibility: hidden; min-height: 1px;"></div>
        <div class="page-loader d-flex justify-content-center align-items-center">
            <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </main>
    <!-- Bottom navigation -->
    <div class="bottom-navigation-menu">
        <a href="#top" class="scroll-top">Scroll to top</a>
        <div class="d-flex justify-content-center align-items-center">
            <a href="/profile" class="secondary-btn d-flex justify-content-center align-items-center"><i class="fas fa-user-circle"></i></a>
            <a href="/message" class="secondary-btn active d-flex justify-content-center align-items-center"><i class="fas fa-bolt"></i></a>
            <a href="/offers/add" class="action-btn d-flex justify-content-center align-items-center"><i class="fas fa-plus"></i></a>
            <button class="secondary-btn"><i class="fas fa-search"></i></button>
            <button class="secondary-btn active" type="button" data-bs-toggle="offcanvas" data-bs-target="#notifications" aria-controls="notifications">
                <i class="fas fa-bell"></i>
            </button>
        </div>
    </div>
    <!-- Shopping cart -->
    <div th:replace="common/fragments :: cart"></div>
    <!-- Notifications -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="notifications" aria-labelledby="notifications">
        <div class="offcanvas-header notifications-title">
            <h3 class="offcanvas-title" id="offcanvasExampleLabel">Notifications</h3>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body m-0 p-0 notifications-wrapper fancy-scroll">
            <div class="notification">
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, nam modi eaque, quas sint repudiandae, consectetur autem nisi exercitationem hic quae! Similique dolores sed dicta! Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, impedit neque
                    consequuntur libero laborum labore!
                </p>
                <div class="notification-actions d-flex justify-content-between align-items-center">
                    <span>15 hours ago</span>
                    <button type="button">Read</button>
                </div>
            </div>
            <div class="notification">
                <p>
                    New message from <b>Unknown</b>: Lorem ipsum, dolor sit amet consectetur adipisicing elit. Hic, perferendis!
                </p>
                <div class="notification-actions d-flex justify-content-between align-items-center">
                    <span>15 hours ago</span>
                    <button type="button">Reply</button>
                </div>
            </div>
            <div class="notification">
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, nam modi eaque, quas sint repudiandae, consectetur autem nisi exercitationem hic quae! Similique dolores sed dicta! Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, impedit neque
                    consequuntur libero laborum labore!
                </p>
                <div class="notification-actions d-flex justify-content-between align-items-center">
                    <span>15 hours ago</span>
                    <button type="button">Read</button>
                </div>
            </div>
            <div class="notification">
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, nam modi eaque, quas sint repudiandae, consectetur autem nisi exercitationem hic quae! Similique dolores sed dicta! Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, impedit neque
                    consequuntur libero laborum labore!
                </p>
                <div class="notification-actions d-flex justify-content-between align-items-center">
                    <span>15 hours ago</span>
                    <button type="button">Read</button>
                </div>
            </div>
            <div class="notification">
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, nam modi eaque, quas sint repudiandae, consectetur autem nisi exercitationem hic quae! Similique dolores sed dicta! Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea, impedit neque
                    consequuntur libero laborum labore!
                </p>
                <div class="notification-actions d-flex justify-content-between align-items-center">
                    <span>15 hours ago</span>
                    <button type="button">Read</button>
                </div>
            </div>
        </div>
    </div>
    <th:block th:replace="common/fragments :: bottom-scripts"></th:block>
    <script src="/js/home.js" type="module"></script>
</body>

</html>