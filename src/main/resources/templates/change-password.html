<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/fragments :: head"></head>

<body class="container-fluid p-0 m-0">
    <!-- Navigtion -->
    <nav th:replace="common/fragments :: profile-navigation"></nav>
    <!-- Adverts main section -->
    <main class="form-page">
        <form class="p-2 p-sm-3 profile-form" th:action="@{/profile/change/password}" th:method="POST" th:object="${changePasswordBindingModel}">
            <h3>Change password</h3>
            <div class="mb-2">
                <input type="password" class="form-control" name="oldPassword" th:field="*{oldPassword}" th:errorclass="is-invalid" placeholder="Old password">
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Password should be at least 8 characters long.</p>
                </div>
            </div>
            <div class="mb-2">
                <input type="password" class="form-control" name="newPassword" th:field="*{newPassword}" th:errorclass="is-invalid" placeholder="New password">
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Password should be at least 8 characters long.</p>
                </div>
            </div>
            <div class="mb-2">
                <input type="password" class="form-control" name="confirmPassword" th:field="*{newPasswordConfirm}" th:errorclass="is-invalid" placeholder="Confirm password">
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Password should be at least 8 characters long.</p>
                </div>
            </div>
            <div class="mb-2" th:if="${passwordsDontMatch} or ${incorrectPassword}">
                <div class="form-alert" th:if="${passwordsDontMatch}">
                    <p class="m-0 p-0">New password and confirm password don't match.</p>
                </div>
                <div class="form-alert" th:if="${incorrectPassword}">
                    <p class="m-0 p-0">Provided incorrect old password.</p>
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-lg">Save</button>
        </form>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>

</html>