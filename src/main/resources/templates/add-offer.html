<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/fragments :: head"></head>

<body class="container-fluid p-0 m-0">
    <nav th:replace="common/fragments :: secondary-navigation"></nav>
    <!-- Adverts main section -->
    <main class="form-page">
        <form class="p-2 p-sm-3 offer-form" th:action="@{/offers/add}" th:method="POST" enctype="multipart/form-data" th:object="${addOfferBindingModel}">
            <h3>Add offer</h3>
            <div class="mb-2">
                <input type="text" class="form-control" name="title" th:field="*{title}" th:errorclass="is-invalid" placeholder="Offer title">
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer title is required.</p>
                </div>
            </div>
            <div class="mb-2">
                <select class="form-select" name="category" th:field="*{offerCategory}" th:errorclass="is-invalid">
                    <option value="" selected>Select product category</option>
                    <option th:value="${c.name()}" th:each="c : ${categories}" th:text="${c.getDisplayName()}">Category</option>
                </select>
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer category is required.</p>
                </div>
            </div>
            <div class="mb-2">
                <input type="number" class="form-control" name="price" th:field="*{price}" th:errorclass="is-invalid" min="0" step="0.01" placeholder="Product price">
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer price is required.</p>
                </div>
            </div>
            <div class="mb-2">
                <textarea class="form-control" name="description" th:field="*{description}" th:errorclass="is-invalid" placeholder="Product description"></textarea>
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer description is required.</p>
                </div>
            </div>
            <div class="mb-2">
                <h4>Product heading images</h4>
                <input type="file" class="form-control" name="productImages" th:field="*{offerImages}" th:errorclass="is-invalid" multiple>
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer images is required.</p>
                </div>
            </div>
            <div class="mb-2">
                <h4>Product specifications</h4>
                <button type="button" class="btn btn-secondary col-12" id="addSpecificationBtn">Add specification</button>
                <div class="mt-2" id="specificationsGroup">
                </div>
            </div>
            <div class="mb-2">
                <h4>Product options</h4>
                <button type="button" class="btn btn-secondary col-12" id="addOptionBtn">Add option</button>
                <div class="mt-2" id="optionsGroup">
                </div>
            </div>
            <div class="mb-2">
                <h4>Shipping type</h4>
                <select class="form-select" name="shippingType" th:field="*{shippingType}" th:errorclass="is-invalid">
                    <option value="" selected>Select shipping type</option>
                    <option th:value="${s.name()}" th:each="s : ${shipping}" th:text="${s.getDisplayName()}">International</option>
                </select>
                <div class="mt-2 form-alert invalid-feedback">
                    <p class="m-0 p-0">Offer shipping type is required.</p>
                </div>
            </div>
            <button type="submit" class="mt-4 btn btn-primary btn-lg col-12">Create offer</button>
        </form>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="/js/offer.js" type="module"></script>
</body>

</html>